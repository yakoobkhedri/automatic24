<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel='stylesheet' type='text/css' media='screen' href='assets/css/bootstrap.min.css'>
  <link rel='stylesheet' type='text/css' media='screen' href='assets/css/styles.css'>
  <title>Scroll Video Player</title>
</head>

<body>

  <main>
    <section class="position-relative">
      <video class="w-100" id="video" src="assets/img/64ad88885b273.mp4" muted></video>
      <div class="container-fluid">
        <div
          class="d-flex align-items-center gap-4 mb-5 position-absolute bottom-0 p-4 backdrop-blur bg-dark-transparent position-relative rounded-12 max-w-sm-84 max-w-592">
          <div>
            <button id="prevButton"
              class="cursor w-58 h-58 d-flex align-items-center justify-content-center border-gray rounded-12 bg-transparent">
              <svg class="transition-transform transition-all rotate-90" width="24" height="24" viewBox="0 0 24 24"
                fill="none">
                <g clip-path="url(#clip0_736_35759)">
                  <path
                    d="M7.828 10.9997H20V12.9997H7.828L13.192 18.3637L11.778 19.7777L4 11.9997L11.778 4.22168L13.192 5.63568L7.828 10.9997Z"
                    fill="white"></path>
                </g>
                <defs>
                  <clipPath id="clip0_736_35759">
                    <rect width="24" height="24" fill="currentColor"></rect>
                  </clipPath>
                </defs>
              </svg>
            </button>
            <button id="nextButton"
              class="cursor mt-3 w-58 h-58 d-flex align-items-center justify-content-center border-gray rounded-12 bg-transparent">
              <svg class="transition-transform transition-all -rotate-90" width="24" height="24" viewBox="0 0 24 24"
                fill="none">
                <g clip-path="url(#clip0_736_35759)">
                  <path
                    d="M7.828 10.9997H20V12.9997H7.828L13.192 18.3637L11.778 19.7777L4 11.9997L11.778 4.22168L13.192 5.63568L7.828 10.9997Z"
                    fill="white"></path>
                </g>
                <defs>
                  <clipPath id="clip0_736_35759">
                    <rect width="24" height="24" fill="currentColor"></rect>
                  </clipPath>
                </defs>
              </svg>
            </button>
          </div>
          <div class="text-white fw-bold pl-30">
            <div class="text-start">
              <h3 class="fw-bold" id="titleDisplay">WebDesign services</h3>
              <p id="textDisplay" class="text-white-50">
                Cost-effective delivery, and a broad and independent global portfolio of local suppliers, lets you choose the content you need, free of provider ecosystem restrictions.
              </p>
            </div>
          </div>
          <div id="progressBarBox">
            <div id="progressBar"></div>
          </div>
        </div>
      </div>

    </section>
  </main>

  <script src="assets/js/bootstrap.bundle.min.js"></script>
  <script>
    // Get references to the video and button elements
    const video = document.getElementById('video');
    const prevButton = document.getElementById('prevButton');
    const nextButton = document.getElementById('nextButton');
    const progressBar = document.getElementById('progressBar');
    const textDisplay = document.getElementById('textDisplay');

    // Array of text content for different video times
const textSteps = [
  { time: 0, title: "WebDesign services", text: "Cost-effective delivery, and a broad and independent global portfolio of local suppliers, lets you choose the content you need, free of provider ecosystem restrictions." },
  { time: 10, title: "Graphic services", text: "Cost-effective delivery, and independent global portfolio of local suppliers, lets you choose the content you need, free of provider ecosystem restrictions." },
  { time: 20, title: "Seo services", text: "Cost-effective delivery, lets you choose the content you need, free of provider ecosystem restrictions." },
  { time: 30, title: "Digital Marketing services", text: "Cost-effective delivery, global portfolio of local suppliers, lets you choose the content you need, free of provider ecosystem restrictions." },
  { time: 40, title: "Content Production services", text: "a broad and independent global portfolio of local suppliers, lets you choose the content you need, free of provider ecosystem restrictions." },
];
const threshold = 1; // Update only when close to the exact time
    // Smooth rewind or forward function
    function smoothSeek(targetTime) {
      const step = 0.1; // Time to adjust in each interval (in seconds)
      const intervalTime = 100; // Interval duration (in milliseconds)

      const currentTime = video.currentTime;
      const direction = targetTime > currentTime ? 1 : -1; // Determine forward or backward
      const currentStep = textSteps.find(step => 
      Math.abs(currentTime - step.time) <= threshold

       // Find the last text step that matches the current time
 
  );
  // Update the text display if a matching step is found
  if (currentStep) {
    titleDisplay.textContent = currentStep.title;
    textDisplay.textContent = currentStep.text;
  }

      const seekInterval = setInterval(() => {
        const newTime = video.currentTime + direction * step;

        // Stop when we reach the target time or exceed bounds
        if ((direction === 1 && newTime >= targetTime) ||
          (direction === -1 && newTime <= targetTime)) {
          video.currentTime = targetTime; // Set final target time
          clearInterval(seekInterval);   // Stop the interval
        } else {
          video.currentTime = newTime;   // Adjust the current time
        }
      }, intervalTime);
    }

    // Add event listeners for "Previous" and "Next" buttons
    prevButton.addEventListener('click', () => {
      const newTime = Math.max(video.currentTime - 10, 0); // Rewind by 5 seconds
      smoothSeek(newTime);
    });

    nextButton.addEventListener('click', () => {
      const newTime = Math.min(video.currentTime + 10, video.duration); // Forward by 5 seconds
      smoothSeek(newTime);
    });

 
// Update progress bar as the video plays
video.addEventListener('timeupdate', () => {
  const progress = (video.currentTime / video.duration) * 100; // Calculate progress as percentage
  progressBar.style.height = `${progress}%`; // Update the progress bar height
});
// video.addEventListener('play', () => {
// });
  </script>
</body>

</html>